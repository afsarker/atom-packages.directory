<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Atom Packages Directory</title>
    <link rel="stylesheet" href="/assets/application.css">
    <link rel="stylesheet" href="/assets/admin.css">

  </head>
  <body>
    <header>
      <h1><a href="/"><span class="octicon octicon-package"></span>Atom Packages Directory</a></h1>
      <span class="subheader">a package directory for a <a href="http://atom.io">text editor of the 21st Century</a></span>
    </header>
    <section id="content">
      <h1>Build</h1>
<h1 id="atom-build-package">Atom Build package</h1>

<p><a href="https://github.com/noseglid/atom-build/releases">Release notes</a></p>

<p><a href="https://atom.io/packages/build"><img src="https://img.shields.io/apm/dm/build.svg?style=flat-square" alt="Plugin installs" /></a>
<a href="https://atom.io/packages/build"><img src="https://img.shields.io/apm/v/build.svg?style=flat-square" alt="Package version" /></a></p>

<p><a href="https://travis-ci.org/noseglid/atom-build"><img src="https://img.shields.io/travis/noseglid/atom-build/master.svg?style=flat-square&amp;label=travis%20ci" alt="Travis.ci Shield" /></a>
<a href="https://ci.appveyor.com/project/noseglid/atom-build"><img src="https://img.shields.io/appveyor/ci/noseglid/atom-build/master.svg?style=flat-square&amp;label=appveyor" alt="AppVeyor Shield" /></a></p>

<p><a href="https://gitter.im/noseglid/atom-build"><img src="https://img.shields.io/badge/gitter-noseglid%2Fatom--build-24CE66.svg?style=flat-square" alt="Gitter chat" /></a>
<a href="http://atom-slack.herokuapp.com/"><img src="https://img.shields.io/badge/chat-atom.io%20slack-ff69b4.svg?style=flat-square" alt="Slack Badge" /></a></p>

<p>Automatically build your project inside your new favorite editor, Atom.</p>

<ul>
  <li><kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>B</kbd> / <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>B</kbd> / <kbd>F9</kbd> builds your project.</li>
  <li><kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>G</kbd> / <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>G</kbd> / <kbd>F4</kbd> cycles through causes of build error. See <a href="#error-match">Error Matching</a>.</li>
  <li><kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>G</kbd> / <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>H</kbd> / <kbd>Shift</kbd> <kbd>F4</kbd> goes to the first build error. See <a href="#error-match">Error Matching</a>.</li>
  <li><kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>V</kbd> / <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>V</kbd> / <kbd>F8</kbd> Toggles the build panel.</li>
  <li><kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>T</kbd> / <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>T</kbd> / <kbd>F7</kbd> Displays the available build targets.</li>
  <li><kbd>Esc</kbd> terminates build / closes the build window.</li>
</ul>

<h4 id="builds-your-project---configure-it-your-way">Builds your project - configure it your way</h4>
<p><img src="https://noseglid.github.io/build.gif" alt="work work" /></p>

<h4 id="automatically-extract-targets---here-with-build-makehttpsgithubcomatombuildatom-build-make">Automatically extract targets - here with <a href="https://github.com/AtomBuild/atom-build-make">build-make</a>.</h4>
<p><img src="https://noseglid.github.io/targets-make.gif" alt="targets" /></p>

<h4 id="match-errors-and-go-directly-to-offending-code---with-atom-linterhttpsatomiopackageslinter">Match errors and go directly to offending code - with <a href="https://atom.io/packages/linter">Atom Linter</a>.</h4>
<p><img src="https://noseglid.github.io/error-match.gif" alt="error matching" /></p>

<p>(You can also use keyboard shortcuts to go to errors if you donâ€™t like Atom Linter, or want to keep package dependencies to a minimum).</p>

<h2 id="build-providers">Build providers</h2>
<p><strong><a href="https://atombuild.github.io">Full list of build providers</a></strong></p>

<p><a name="build-command"></a>
### Specify a custom build command</p>

<p>If no build tool is enough to suit your needs, you can create a custom build command.
Supported formats and the name of the configuration file is</p>

<ul>
  <li>JSON: <code>.atom-build.json</code></li>
  <li>CSON: <code>.atom-build.cson</code></li>
  <li>YAML: <code>.atom-build.yml</code></li>
  <li>JS: <code>.atom-build.js</code></li>
</ul>

<p>Pick your favorite format, save that file in your project root, and specify exactly
how your project is built (example in <code>json</code>)</p>

<p><code>json
{
  "cmd": "&lt;command to execute&gt;",
  "name": "&lt;name of target&gt;",
  "args": [ "&lt;argument1&gt;", "&lt;argument2&gt;", ... ],
  "sh": true,
  "cwd": "&lt;current working directory for `cmd`&gt;",
  "env": {
    "VARIABLE1": "VALUE1",
    "VARIABLE2": "VALUE2",
    ...
  },
  "errorMatch": [
    "^regexp1$",
    "^regexp2$"
  ],
  "keymap": "&lt;keymap string&gt;",
  "atomCommandName": "namespace:command",
  "targets": {
    "&lt;name of target&gt;": {
      "cmd": "&lt;command to execute&gt;",
      ... (all previous options are viable here except `targets`)
    }
  }
}
</code></p>

<p>Note that if <code>sh</code> is false <code>cmd</code> must only be the executable - no arguments here.  If the
executable is not in your path, either fully qualify it or specify the path
in you environment (e.g. by setting the <code>PATH</code> var appropriately on UNIX-like
systems).</p>

<p>If <code>sh</code> is true, it will use a shell (e.g. <code>/bin/sh -c</code>) on unix/linux, and command (<code>cmd /S /C</code>)
on windows.</p>

<p>Using a JavaScript (JS) file gives you the additional benefit of being able to specify <code>preBuild</code> and <code>postBuild</code>. Keep in mind
that the JavaScript file must <code>export</code> the configuration</p>

<p><code>javascript
module.exports = {
  cmd: "myCommand",
  preBuild: function () {
    console.log('This is run **before** the build command');
  },
  postBuild: function () {
    console.log('This is run **after** the build command');
  }
};
</code></p>

<p><a name="custom-build-config"></a>
#### Configuration options</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>cmd</code></td>
      <td><strong>[required]</strong></td>
      <td>The executable command</td>
    </tr>
    <tr>
      <td><code>name</code></td>
      <td><em>[optional]</em></td>
      <td>The name of the target. Viewed in the targets list (toggled by <code>build:select-active-target</code>).</td>
    </tr>
    <tr>
      <td><code>args</code></td>
      <td><em>[optional]</em></td>
      <td>An array of arguments for the command</td>
    </tr>
    <tr>
      <td><code>sh</code></td>
      <td><em>[optional]</em></td>
      <td>If <code>true</code>, the combined command and arguments will be passed to <code>/bin/sh</code>. Default <code>true</code>.</td>
    </tr>
    <tr>
      <td><code>cwd</code></td>
      <td><em>[optional]</em></td>
      <td>The working directory for the command. E.g. what <code>.</code> resolves to.</td>
    </tr>
    <tr>
      <td><code>env</code></td>
      <td><em>[optional]</em></td>
      <td>An object of environment variables and their values to set</td>
    </tr>
    <tr>
      <td><code>errorMatch</code></td>
      <td><em>[optional]</em></td>
      <td>A (list of) regular expressions to match output to a file, row and col. See <a href="#error-match">Error matching</a> for details.</td>
    </tr>
    <tr>
      <td><code>keymap</code></td>
      <td><em>[optional]</em></td>
      <td>A keymap string as defined by <a href="https://atom.io/docs/latest/behind-atom-keymaps-in-depth"><code>Atom</code></a>. Pressing this key combination will trigger the target. Examples: <code>ctrl-alt-k</code> or <code>cmd-U</code>.</td>
    </tr>
    <tr>
      <td><code>atomCommandName</code></td>
      <td><em>[optional]</em></td>
      <td>Command name to register which should be on the form of <code>namespace:command</code>. Read more about <a href="https://atom.io/docs/api/v1.4.1/CommandRegistry">Atom CommandRegistry</a>. The command will be available in the command palette and can be trigger from there. If this is returned by a build provider, the command can programatically be triggered by <a href="https://atom.io/docs/api/v1.4.1/CommandRegistry#instance-dispatch">dispatching</a>.</td>
    </tr>
    <tr>
      <td><code>targets</code></td>
      <td><em>[optional]</em></td>
      <td>Additional targets which can be used to build variations of your project.</td>
    </tr>
    <tr>
      <td><code>preBuild</code></td>
      <td><em>[optional]</em></td>
      <td><strong>JS only</strong>. A function which will be called <em>before</em> executing <code>cmd</code>. No arguments. <code>this</code> will be the build configuration.</td>
    </tr>
    <tr>
      <td><code>postBuild</code></td>
      <td><em>[optional]</em></td>
      <td><strong>JS only</strong>. A function which will be called <em>after</em> executing <code>cmd</code>. A single argument <code>bool buildOutcome</code> indicating outcome of the running <code>cmd</code>. <code>this</code> will be the build configuration.</td>
    </tr>
  </tbody>
</table>

<h4 id="replacements">Replacements</h4>

<p>The following parameters will be replaced in <code>cmd</code>, any entry in <code>args</code>, <code>cwd</code> and
values of <code>env</code>. They should all be enclosed in curly brackets <code>{}</code></p>

<ul>
  <li><code>{FILE_ACTIVE}</code> - Full path to the currently active file in Atom. E.g. <code>/home/noseglid/github/atom-build/lib/build.js</code></li>
  <li><code>{FILE_ACTIVE_PATH}</code> - Full path to the folder where the currently active file is. E.g. <code>/home/noseglid/github/atom-build/lib</code></li>
  <li><code>{FILE_ACTIVE_NAME}</code> - Full name and extension of active file. E.g., <code>build.js</code></li>
  <li><code>{FILE_ACTIVE_NAME_BASE}</code> - Name of active file WITHOUT extension. E.g., <code>build</code></li>
  <li><code>{PROJECT_PATH}</code> - Full path to the root of the project. This is normally the path Atom has as root. E.g <code>/home/noseglid/github/atom-build</code></li>
  <li><code>{REPO_BRANCH_SHORT}</code> - Short name of the current active branch (if project is backed by git). E.g <code>master</code> or <code>v0.9.1</code></li>
  <li><code>{SELECTION}</code> - Selected text.</li>
</ul>

<h3 id="creating-a-build-provider">Creating a build provider</h3>
<p>Creating a build provider require very little code in the easiest case, and can
be as complicated as necessary to achieve the correct functionality.
Read more about building your own provider in <a href="create-provider.md">the create provider documentation</a>.</p>

<p><a name="error-match"></a>
## Error matching</p>

<p>Error matching lets you specify a single regular expression or a list of
regular expressions, which capture the output of your build command and open the
correct file, row and column of the error. For instance:</p>

<p><code>bash
../foo/bar/a.c:4:26: error: expected ';' after expression
  printf("hello world\n")
                         ^
                         ;
1 error generated.
</code></p>

<p>Would be matched with the regular expression: <code>(?&lt;file&gt;[\\/0-9a-zA-Z\\._]+):(?&lt;line&gt;\\d+):(?&lt;col&gt;\\d+):\\s+(?&lt;message&gt;.+)</code>.
After the build has failed, pressing <kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>G</kbd> (OS X) or <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>G</kbd> (Linux/Windows)
(or <kbd>F4</kbd> on either platform), <code>a.c</code> would be opened and the cursor would be placed at row 4, column 26.</p>

<p>Note the syntax for match groups. This is from the <a href="http://xregexp.com/">XRegExp</a> package
and has the syntax for named groups: <code>(?&lt;name&gt; RE )</code> where <code>name</code> would be the name of the group
matched by the regular expression <code>RE</code>.</p>

<p>The following named groups can be matched from the output:
  * <code>file</code> - <strong>[required]</strong> the file to open. May be relative <code>cwd</code> or absolute. <code>(?&lt;file&gt; RE)</code>.
  * <code>line</code> - <em>[optional]</em> the line the error starts on. <code>(?&lt;line&gt; RE)</code>.
  * <code>col</code> - <em>[optional]</em> the column the error starts on. <code>(?&lt;col&gt; RE)</code>.
  * <code>line_end</code> - <em>[optional]</em> the line the error ends on. <code>(?&lt;line_end&gt; RE)</code>.
  * <code>col_end</code> - <em>[optional]</em> the column the error ends on. <code>(?&lt;col_end&gt; RE)</code>.
  * <code>message</code> - <em>[optional]</em> Catch the humanized error message. <code>(?&lt;message&gt; RE)</code>.</p>

<p>Backslashes must be escaped, thus the double <code>\\</code> everywhere.</p>

<p>The <code>file</code> should be relative the <code>cwd</code> specified. If no <code>cwd</code> has been specified, then
the <code>file</code> should be relative the project root (e.g. the top most directory shown in the
Atom Editor).</p>

<p>If your build outputs multiple errors, all will be matched. Press <kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>G</kbd> (OS X) or <kbd>Ctrl</kbd> <kbd>Alt</kbd> <kbd>G</kbd> (Linux/Windows)
to cycle through the errors (in the order they appear, first on stderr then on stdout), or you can use the
Atom Linter integration discussed in the next section.</p>

<p>Often, the first error is the most interesting since other errors tend to be secondary faults caused by that first one.
To jump to the first error you can use <kbd>Cmd</kbd> <kbd>Alt</kbd> <kbd>H</kbd> (OS X) or <kbd>Shift</kbd> <kbd>F4</kbd> (Linux/Windows) at any point to go to the first error.</p>

<h3 id="error-matching-and-atom-linter">Error matching and Atom Linter</h3>

<p>Install <a href="https://atom.io/packages/linter">Atom Linter</a> and all your matched errors will listed in a neat panel.</p>

<p><img src="https://noseglid.github.io/build-linter.png" alt="Linter integration" /></p>

<h2 id="analytics">Analytics</h2>

<p>The <code>atom-build</code> package uses google analytics to keep track of which features are in use
and at what frequency. This gives the maintainers a sense of what parts of the
package is most important and what parts can be removed.</p>

<p>The data is fully anonymous and can not be tracked back to you in any way.
This is what is collected</p>

<ul>
  <li>Version of package used.</li>
  <li>Build triggered, succeeded or failed.</li>
  <li>Which build tool was used.</li>
  <li>Visibility of UI components.</li>
</ul>

<p>If you really do not want to share this information, you can opt out by disabling
the <a href="https://atom.io/packages/metrics">metrics package</a>. This will disable all analytics
collection, including the one from <code>atom-build</code>.</p>

build,compile,gulp,make,productivity
    </section>
    <footer>
      <p>
        Made with <span class="octicon octicon-heart"></span> by <a href="http://bastilian.me">@bastilian</a>
      </p>
      <p>
        <small>Last updated: 2016-04-29</small>
      </p>
    </footer>
    <div style="opacity:.15;position:relative;z-index:-1;">
      <div class="system"></div>
      <div class="system-2"></div>
    </div>
    <a href="https://github.com/bastilian/atom-packages.directory">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>
  </body>
</html>
