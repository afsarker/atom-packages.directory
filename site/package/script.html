<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Atom Packages Directory</title>
    <link rel="stylesheet" href="/assets/application.css">
    <link rel="stylesheet" href="/assets/admin.css">

  </head>
  <body>
    <header>
      <h1><a href="/"><span class="octicon octicon-package"></span>Atom Packages Directory</a></h1>
      <span class="subheader">a package directory for a <a href="http://atom.io">text editor of the 21st Century</a></span>
    </header>
    <section id="content">
      <h1>Script</h1>
<h1 id="script">Script</h1>

<p><a href="https://travis-ci.org/rgbkrk/atom-script"><img src="http://img.shields.io/travis/rgbkrk/atom-script.svg?style=flat" alt="Build Status" /></a></p>

<p><strong>Run code in Atom!</strong></p>

<p>Run scripts based on file name, a selection of code, or by line number.</p>

<p><img src="https://cloud.githubusercontent.com/assets/1694055/3226201/c458acbc-f067-11e3-84a0-da27fe334f5e.gif" alt="" /></p>

<p>Currently supported grammars are:</p>

<ul>
  <li>1C (BSL) <sup><a href="#o-stroke">Ø</a></sup></li>
  <li>Ansible <sup><a href="#asterisk">*</a></sup></li>
  <li>AppleScript</li>
  <li>Bash <sup><a href="#double-asterisk">**</a></sup></li>
  <li>Behat Feature</li>
  <li>C <sup><a href="#asterisk">*</a></sup><sup><a href="#double-dagger">‡</a></sup></li>
  <li>C++ <sup><a href="#asterisk">*</a></sup><sup><a href="#double-dagger">‡</a></sup></li>
  <li>C# Script <sup><a href="#asterisk">*</a></sup></li>
  <li>Clojure (via Leiningen) <sup><a href="#pi">ϖ</a></sup></li>
  <li>Coffeescript</li>
  <li>CoffeeScript (Literate) <sup>[^](#caret)</sup></li>
  <li>Crystal</li>
  <li>Cucumber (Gherkin) <sup><a href="#asterisk">*</a></sup></li>
  <li>D <sup><a href="#asterisk">*</a></sup></li>
  <li>DOT (Graphviz)</li>
  <li>Elixir</li>
  <li>Erlang <sup><a href="#dagger">†</a></sup></li>
  <li>F# <sup><a href="#asterisk">*</a></sup></li>
  <li>Forth (via GForth)</li>
  <li>Gnuplot</li>
  <li>Go <sup><a href="#asterisk">*</a></sup></li>
  <li>Groovy</li>
  <li>Haskell</li>
  <li>ioLanguage (http://iolanguage.org/)</li>
  <li>Java <sup><a href="#triple-asterisk">***</a></sup></li>
  <li>Javascript</li>
  <li><a href="https://developer.apple.com/library/mac/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/Articles/Introduction.html">JavaScript for Automation</a> (JXA)</li>
  <li>Jolie <sup><a href="#asterisk">*</a></sup></li>
  <li>Julia</li>
  <li>Kotlin</li>
  <li>LaTeX (via latexmk)</li>
  <li>LilyPond</li>
  <li>Lisp (via SBCL) <sup><a href="#omega">⍵</a></sup></li>
  <li>Literate Haskell <sup><a href="#asterisk">*</a></sup></li>
  <li>LiveScript</li>
  <li>Lua</li>
  <li>Makefile</li>
  <li>MoonScript</li>
  <li>MongoDB</li>
  <li><a href="http://ncl.ucar.edu">NCL</a><sup><a href="#hash">#</a></sup></li>
  <li>newLISP</li>
  <li>Nim (and NimScript)</li>
  <li>NSIS</li>
  <li>Objective-C <sup><a href="#asterisk">*</a></sup><sup><a href="#double-dagger">‡</a></sup></li>
  <li>Objective-C++ <sup><a href="#asterisk">*</a></sup><sup><a href="#double-dagger">‡</a></sup></li>
  <li>OCaml <sup><a href="#asterisk">*</a></sup></li>
  <li>Pandoc Markdown <sup><a href="#two-daggers">††</a></sup></li>
  <li>Perl</li>
  <li>Perl 6</li>
  <li>PHP</li>
  <li>PostgreSQL <sup><a href="#section">§</a></sup></li>
  <li>Python</li>
  <li>RSpec</li>
  <li>Racket</li>
  <li><a href="https://github.com/TheBerkin/Rant">RANT</a></li>
  <li>Ruby</li>
  <li>Ruby on Rails</li>
  <li>Rust</li>
  <li>Sage</li>
  <li>Sass/SCSS <sup><a href="#asterisk">*</a></sup></li>
  <li>Scala</li>
  <li>Shell Script <sup><a href="#double-asterisk">**</a></sup></li>
  <li>Swift</li>
  <li>TypeScript</li>
  <li>Dart</li>
  <li>Octave</li>
  <li>Zsh <sup><a href="#double-asterisk">**</a></sup></li>
  <li>Prolog <sup><a href="#cents">¢</a></sup></li>
</ul>

<p><strong>NOTE</strong>: Some grammars may require you to install <a href="https://atom.io/search?utf8=✓&amp;q=language">a custom language package</a>.</p>

<p>You only have to add a few lines in a PR to support another.</p>

<h3 id="limitations">Limitations</h3>

<p><a name="o-stroke"></a><sup>Ø</sup> 1C (BSL) code runs through <a href="http://oscript.io/">OneScript</a> interpreter in console mode.</p>

<p><a name="caret"></a><sup>^</sup> Running selections of code for CoffeeScript (Literate) only works when selecting just the code blocks</p>

<p><a name="dagger"></a><sup>†</sup> Erlang uses <code>erl</code> for limited selection based runs (see <a href="https://github.com/rgbkrk/atom-script/pull/70">#70</a>)</p>

<p><a name="asterisk"></a><sup>*</sup> Ansible, Cucumber (Gherkin), D, Go, F#, Literate Haskell, Jolie, OCaml, PowerShell, and Swift do not support selection based runs</p>

<p><a name="omega"></a><sup>⍵</sup> Lisp selection based runs are limited to single line</p>

<p><a name="pi"></a><sup>ϖ</sup> Clojure scripts are executed via <a href="http://leiningen.org/">Leiningen</a>’s <a href="https://github.com/kumarshantanu/lein-exec">exec</a> plugin. Both <code>Leiningen</code> and <code>exec</code> must be installed</p>

<p><a name="double-dagger"></a><sup>‡</sup> C, C++, Objective-C, and Objective-C++ are currently only available for Mac OS X (where <code>process.platform is 'darwin'</code>). This is possible due to the commands <code>xcrun clang</code> and <code>xcrun clang++</code>. <strong>NOTE</strong>: Xcode and the Xcode command line tools are required to ensure <code>xcrun</code> and the correct compilers on your system.</p>

<p><a name="hash"></a><sup>#</sup> NCL scripts must end with <code>exit</code> command for file based runs</p>

<p><a name="two-daggers"></a><sup>††</sup> Requires the panzer pandoc wrapper https://github.com/msprev/panzer and the pandoc-flavored-markdown language package in Atom https://atom.io/packages/language-pfm</p>

<p><a name="section"></a><sup>§</sup> Requires the atom-language-pgsql package in
Atom https://atom.io/packages/language-pgsql.  Connects as user <code>$PGUSER</code> to
database <code>$PGDATABASE</code>. Both default to the operating system’s user name and both
can be set in the process environment or in Atom’s <code>init.coffee</code> script:
<code>process.env.PGUSER = ⟨username⟩</code> and <code>process.env.PGDATABASE = ⟨database name⟩</code>.</p>

<p><a name="double-asterisk"></a><sup>**</sup> The shell used is based on your default <code>$SHELL</code> environment variable.</p>

<p><a name="triple-asterisk"></a><sup>***</sup> Windows users should manually add jdk path (…\jdk1.x.x_xx\bin) to their system environment variables.</p>

<p><a name="cents"></a><sup>¢</sup> Prolog scripts must contain a rule with the head <code>main</code> (e.g.<code>main:- parent(X,lucas),writeln(X).</code>). The script is executed with the goal <code>main</code> and is halted after the first result is found. The output is produced by the <code>writeln/1</code> predicates. It requires swipl.</p>

<h2 id="installation">Installation</h2>

<p><code>apm install script</code></p>

<p>or</p>

<p>Search for <code>script</code> within package search in the Settings View.</p>

<h2 id="atom-cant-find-node--ruby--python--my-socks">Atom can’t find node | ruby | python | my socks</h2>

<p>Make sure to launch Atom from the console/terminal. This gives atom all your useful environment variables. Additionally, make sure to run it with the project path you need. For example, use</p>

<p><code>
atom .
</code></p>

<p>to get it to run with the <em>current</em> directory as the default place to run scripts from.</p>

<p>If you <em>really</em> wish to open atom from a launcher/icon, see <a href="https://github.com/rgbkrk/atom-script/issues/61#issuecomment-37337827">this issue for a variety of workarounds that have been suggested</a>.</p>

<h2 id="usage">Usage</h2>

<p>Make sure to run <code>atom</code> from the command line to get full access to your environment variables. Running Atom from the icon will launch using launchctl’s environment.</p>

<p><strong>Script: Run</strong> will perform a “File Based” run when no text is selected (default).</p>

<p><strong>Script: Run</strong> while text is selected will perform a “Selection Based” run executing just the highlighted code.</p>

<p><strong>Script: Run by Line Number</strong> to run using the specified line number. <strong>Note</strong> that if you select an entire line this number could be off by one due to the way Atom detects numbers while text is selected.</p>

<p><strong>Script: Run Options</strong> should be used to configure command options, program arguments, and environment variables overrides. Environment variables may be input into the options view in the form <code>VARIABLE_NAME_ONE=value;VARIABLE_NAME_TWO="other value";VARIABLE_NAME_3='test'</code>.</p>

<p>Also, in this dialog you can save options as a profile for future use. For example, you can add two profiles, one for <code>python2.7</code> and another for <code>python3</code> and run scripts with a specified profile, which will be more convinient than entering options every time you want to switch python versions.</p>

<p><strong>Script: Run with profile</strong> allows you to run scripts with saved profiles. Profiles can be added in <strong>Script: Run Options</strong> dialog.</p>

<p><strong>Script: Kill Process</strong> will kill the process but leaves the pane open.</p>

<p><strong>Script: Close View</strong> closes the pane and kills the process.</p>

<p>To kill everything, click the close icon in the upper right and just go back to
coding.</p>

<p><strong>Script: Copy Run Results</strong> copies everything written to the output pane to the
clipboard, allowing you to paste it into the editor.</p>

<h3 id="command-and-shortcut-reference">Command and shortcut reference</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Command</th>
      <th style="text-align: left">Mac OS X</th>
      <th style="text-align: left">Linux/Windows</th>
      <th style="text-align: left">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Script: Run</td>
      <td style="text-align: left"><kbd>cmd-i</kbd></td>
      <td style="text-align: left"><kbd>shift-ctrl-b</kbd></td>
      <td style="text-align: left">If text is selected a “Selection Based” is used instead of a “File Based” run</td>
    </tr>
    <tr>
      <td style="text-align: left">Script: Run by Line Number</td>
      <td style="text-align: left"><kbd>shift-cmd-j</kbd></td>
      <td style="text-align: left"><kbd>shift-ctrl-j</kbd></td>
      <td style="text-align: left">If text is selected the line number will be the last</td>
    </tr>
    <tr>
      <td style="text-align: left">Script: Run Options</td>
      <td style="text-align: left"><kbd>shift-cmd-i</kbd></td>
      <td style="text-align: left"><kbd>shift-ctrl-alt-o</kbd></td>
      <td style="text-align: left">Runs the selection or whole file with the given options</td>
    </tr>
    <tr>
      <td style="text-align: left">Script: Run with profile</td>
      <td style="text-align: left"><kbd>shift-cmd-k</kbd></td>
      <td style="text-align: left"><kbd>shift-ctrl-alt-b</kbd></td>
      <td style="text-align: left">Runs the selection or whole file with the specified profile</td>
    </tr>
    <tr>
      <td style="text-align: left">Script: Close View</td>
      <td style="text-align: left"><kbd>esc</kbd> or <kbd>ctrl-w</kbd></td>
      <td style="text-align: left"><kbd>esc</kbd></td>
      <td style="text-align: left">Closes the script view window</td>
    </tr>
    <tr>
      <td style="text-align: left">Script: Kill Process</td>
      <td style="text-align: left"><kbd>ctrl-c</kbd></td>
      <td style="text-align: left"><kbd>ctrl-q</kbd></td>
      <td style="text-align: left">Kills the current script process</td>
    </tr>
  </tbody>
</table>

<h3 id="replacements">Replacements</h3>

<p>The following parameters will be replaced in any entry in <code>args</code> (command and program arguments). They should all be enclosed in curly brackets <code>{}</code></p>

<ul>
  <li><code>{FILE_ACTIVE}</code> - Full path to the currently active file in Atom. E.g. <code>/home/rgbkrk/atom-script/lib/script.coffee</code></li>
  <li><code>{FILE_ACTIVE_PATH}</code> - Full path to the folder where the currently active file is. E.g. <code>/home/rgbkrk/atom-script/lib</code></li>
  <li><code>{FILE_ACTIVE_NAME}</code> - Full name and extension of active file. E.g., <code>script.coffee</code></li>
  <li><code>{FILE_ACTIVE_NAME_BASE}</code> - Name of active file WITHOUT extension. E.g., <code>script</code></li>
  <li><code>{PROJECT_PATH}</code> - Full path to the root of the project. This is normally the path Atom has as root. E.g <code>/home/rgbkrk/atom-script</code></li>
</ul>

<p>Parameters are compatible with <code>atom-build</code> package.</p>

<h2 id="development">Development</h2>

<p>This is an <a href="http://openopensource.org/">Open Open Source Project</a>, which means:</p>

<blockquote>
  <p>Individuals making significant and valuable contributions are given commit-access to the project to contribute as they see fit.</p>
</blockquote>

<p>As for coding and contributing, rely on the atom <a href="https://atom.io/docs/latest/contributing">contributing guidelines</a>.
They’re pretty sane.</p>

<h4 id="quick-and-dirty-setup">Quick and dirty setup</h4>

<p><code>apm develop script</code></p>

<p>This will clone the <code>script</code> repository to <code>~/github</code> unless you set the
<code>ATOM_REPOS_HOME</code> environment variable.</p>

<h4 id="i-already-cloned-it">I already cloned it!</h4>

<p>If you cloned it somewhere else, you’ll want to use <code>apm link --dev</code> within the
package directory, followed by <code>apm install</code> to get dependencies.</p>

<h3 id="workflow">Workflow</h3>

<p>After pulling upstream changes, make sure to run <code>apm update</code>.</p>

<p>To start hacking, make sure to run <code>atom --dev</code> from the package directory.
Cut a branch while you’re working then either submit a Pull Request when done
or when you want some feedback!</p>

script,runner,bash,behat feature,clojure,coffeescript,coffeescript (literate),cucumber (gherkin),elixir,erlang,f#,go,groovy,haskell,javascript,julia,latex,lua,mongodb,newlisp,perl,php,powershell,python,rspec,ruby,ruby on rails,scala,swift,run,applescript,code
    </section>
    <footer>
      <p>
        Made with <span class="octicon octicon-heart"></span> by <a href="http://bastilian.me">@bastilian</a>
      </p>
      <p>
        <small>Last updated: 2016-04-29</small>
      </p>
    </footer>
    <div style="opacity:.15;position:relative;z-index:-1;">
      <div class="system"></div>
      <div class="system-2"></div>
    </div>
    <a href="https://github.com/bastilian/atom-packages.directory">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>
  </body>
</html>
